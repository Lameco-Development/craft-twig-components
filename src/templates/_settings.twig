{% import "_includes/forms" as forms %}

<div class="field" style="margin-top: 0;">
    {{ forms.selectField({
        label: "Page Builder field",
        id: "pageBuilderFieldId",
        name: "pageBuilderFieldId",
        options: availableFieldOptions,
        value: settings.pageBuilderFieldId,
    }) }}
</div>

<table class="data fullwidth">
    <thead>
    <tr>
        <th style="width: 50%;">Component</th>
        <th style="width: 50%;">Enabled</th>
    </tr>
    </thead>
    <tbody>
    {% for component in settings.components %}
        <tr>
            <td>{{ component.name }}</td>
            <td>
                <input type="hidden" name="components[{{ loop.index0 }}][name]" value="{{ component.name }}">
                <input type="hidden" name="components[{{ loop.index0 }}][migration]"
                       value="{{ component.migration }}">
                {{ forms.lightswitchField({
                    name: 'components[' ~ loop.index0 ~ '][enabled]',
                    on: component.enabled,
                }) }}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
